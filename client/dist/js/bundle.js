!function(){"use strict";var e={38:function(e,t,a){var n,o=(n=a(121))&&n.__esModule?n:{default:n};window.document.addEventListener("DOMContentLoaded",()=>{(0,o.default)()})},121:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(a(207)),o=u(a(353));function u(e){return e&&e.__esModule?e:{default:e}}t.default=()=>{n.default.component.registerMany({ImageTextGeneratorField:o.default})}},207:function(e){e.exports=Injector},353:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if("function"==typeof WeakMap)var a=new WeakMap,n=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,r={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return r;if(o=t?n:a){if(o.has(e))return o.get(e);o.set(e,r)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(u.get||u.set)?o(r,t,u):r[t]=e[t]);return r}(e,t)}(a(594)),o=a(207),u=s(a(935)),r=s(a(923)),l=a(556);function s(e){return e&&e.__esModule?e:{default:e}}const d=e=>{const{id:t,value:a,name:o,extraClass:u,className:s,disabled:d,readOnly:i,placeholder:c,autoFocus:f,type:p,maxLength:g,attributes:m,onChange:y,onBlur:b,onFocus:v,imageID:x,icon:_,FieldGroup:h,Button:M,Loading:O}=e,[j,C]=(0,n.useState)(!1),[E,F]=(0,n.useState)(""),[w,P]=(0,n.useState)("");(0,n.useEffect)(()=>{F(a||""),a||P("")},[a]);const T=e=>{y&&e.target&&(F(e.target.value),y(e,{id:t,value:e.target.value}))};(0,n.useEffect)(()=>{if(!w)return;let e=0;const t=()=>{e<w.length?(F(w.substring(0,e+1)),e+=1,setTimeout(t,20)):T({target:{value:w}})};t()},[w]);const I=["image-alt--input-group","btn btn--last","btn-outline-secondary",e.extraClass],L={...e,className:(0,r.default)("image-text-generator-field",u)};return n.default.createElement(n.default.Fragment,null,j&&n.default.createElement(O,{className:"image-text-generator-field__loading"}),n.default.createElement(h,L,n.default.createElement(l.InputGroup,null,n.default.createElement(l.Input,(()=>{const e={className:`${s} ${u}`,id:t,disabled:d,name:o,maxLength:g,"aria-label":o,readOnly:i,value:E||a||"",placeholder:c,autoFocus:f,type:p||"text",onBlur:b,onFocus:v,...m||{}};return i||(e.onChange=T),e})()),!i&&_&&n.default.createElement(l.InputGroupAddon,{addonType:"append"},n.default.createElement(M,{onClick:async()=>{C(!0);try{const e=await fetch(`admin/alt-generator/generate/${x}`,{method:"POST",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"}}),t=await e.json();t.content&&P(t.content)}catch(e){console.error("Generation failed:",e)}finally{C(!1)}},disabled:j||d,loading:j,noText:!0,className:(0,r.default)(I),icon:_})))))};d.propTypes={extraClass:u.default.string,id:u.default.string,className:u.default.string,disabled:u.default.bool,readOnly:u.default.bool,placeholder:u.default.string,autoFocus:u.default.bool,type:u.default.string,attributes:u.default.object,onChange:u.default.func,onBlur:u.default.func,onFocus:u.default.func,imageID:u.default.number},d.defaultProps={extraClass:"",className:"",value:"",type:"text",attributes:{}};t.default=(0,o.inject)(["FieldGroup","Button","Loading"])(d)},556:function(e){e.exports=Reactstrap},594:function(e){e.exports=React},923:function(e){e.exports=classnames},935:function(e){e.exports=PropTypes}},t={};!function a(n){var o=t[n];if(void 0!==o)return o.exports;var u=t[n]={exports:{}};return e[n](u,u.exports,a),u.exports}(38)}();